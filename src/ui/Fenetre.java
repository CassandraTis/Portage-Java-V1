/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ui;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.AWTEvent;
import java.io.IOException;
import static java.lang.Double.NaN;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;
import java.util.Vector;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.BoxLayout;
import static javax.swing.BoxLayout.Y_AXIS;
import javax.swing.DefaultListModel;
import javax.swing.Icon;
import javax.swing.JButton;
import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JTextPane;
import javax.swing.ListModel;
import javax.swing.ListSelectionModel;
import javax.swing.SwingUtilities;
import javax.swing.event.DocumentEvent;
import javax.swing.event.ListSelectionListener;
import javax.xml.stream.XMLStreamException;
import princetonPlainsboro.*;

/**
 *
 * @author Cyril
 */
public class Fenetre extends javax.swing.JFrame {

    /*Pour le bouton Ajouter de Patient*/
    ArrayList<Patient> patients = new ArrayList<Patient>();
    DefaultListModel<String> dlmPat = new DefaultListModel<String>();

    /* Pour le bouton Valider Acte*/
    Vector<Acte> vActe = new Vector<Acte>();
    DefaultListModel<Acte> dlmActe = new DefaultListModel<Acte>();

    /*Pour le bouton Ajouter de Medecin*/
    ArrayList<Medecin> medecins = new ArrayList<Medecin>();
    DefaultListModel<String> dlmMed = new DefaultListModel<String>();

    /* ArrayList de Spécialité*/
    ArrayList<String> specialites = new ArrayList<String>();

    /*Pour le bouton Ajouter de Soin*/
    ArrayList<FicheDeSoins> soins = new ArrayList<FicheDeSoins>();
    DefaultListModel<String> dlmSoin = new DefaultListModel<String>();

    DossierMedical dm = new DossierMedical();
    private boolean estSecretaire;

    /**
     * Creates new form Fenetre
     */
    public Fenetre(boolean secretaire) {
        System.out.println("OK");
        initComponents();
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        
        importFicheDeSoins();
        importPatientFromXML();
        importMedecinFromXML();

        for (Object o : medecins) {

            listeMedecins.addItem(o);
            cbMedecins.addItem(o);
        }
        for(Object o : patients){
            cbPatients.addItem(o);
        }
        
        this.estSecretaire = secretaire;
        
        ajouterPatient.setEnabled(this.estSecretaire);
        ajouterMedecin.setEnabled(this.estSecretaire);
        jButton4.setEnabled(this.estSecretaire);
        validerCoutModif.setEnabled(this.estSecretaire);
        jButton5.setEnabled(this.estSecretaire);
        modifierPatient1.setEnabled(this.estSecretaire);
        modifierMedecin.setEnabled(this.estSecretaire);
        ajouterSoin.setEnabled(!this.estSecretaire);
        ficheSoinPatient.setEnabled(!this.estSecretaire);

        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jSeparator2 = new javax.swing.JSeparator();
        fenetre = new javax.swing.JPanel();
        menu = new javax.swing.JTabbedPane();
        patient = new javax.swing.JPanel();
        ajoutPatients = new javax.swing.JPanel();
        nom = new javax.swing.JLabel();
        ss = new javax.swing.JLabel();
        adresse = new javax.swing.JLabel();
        wnomPatient = new javax.swing.JTextField();
        wssPatient = new javax.swing.JTextField();
        wadresse = new javax.swing.JTextField();
        prenom = new javax.swing.JLabel();
        wprenomPatient = new javax.swing.JTextField();
        ajouterPatient = new javax.swing.JButton();
        listeDePatients = new javax.swing.JPanel();
        listePatients = new javax.swing.JScrollPane();
        listepatient = new javax.swing.JList();
        ficheSoinPatient = new javax.swing.JButton();
        modifierPatient1 = new javax.swing.JButton();
        recherchePatient = new javax.swing.JButton();
        wrechercherPatient = new javax.swing.JTextField();
        consulterPatient = new javax.swing.JButton();
        recherchePatientCB = new javax.swing.JComboBox();
        jLabel15 = new javax.swing.JLabel();
        medecin = new javax.swing.JPanel();
        ajoutPatients1 = new javax.swing.JPanel();
        nom1 = new javax.swing.JLabel();
        adresse1 = new javax.swing.JLabel();
        wnomMedecin = new javax.swing.JTextField();
        wTelMedecin = new javax.swing.JTextField();
        wSpeMedecin = new javax.swing.JTextField();
        prenom1 = new javax.swing.JLabel();
        wprenomMedecin = new javax.swing.JTextField();
        ajouterMedecin = new javax.swing.JButton();
        ss2 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        wIdentifiantMedecin = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        wMDPMedecin = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        consulterMedecin = new javax.swing.JButton();
        modifierMedecin = new javax.swing.JButton();
        rechercheMedecin = new javax.swing.JButton();
        wrechercherMedecin = new javax.swing.JTextField();
        listePatients1 = new javax.swing.JScrollPane();
        listemedecin = new javax.swing.JList();
        jLabel6 = new javax.swing.JLabel();
        soin = new javax.swing.JPanel();
        ajoutDeSoins = new javax.swing.JPanel();
        dateSoin = new javax.swing.JLabel();
        medecinSoin = new javax.swing.JLabel();
        patientSoin = new javax.swing.JLabel();
        actesSoin = new javax.swing.JLabel();
        ajouterSoin = new javax.swing.JButton();
        listesActesFicheSoin = new javax.swing.JComboBox(Code.values());
        jScrollPane2 = new javax.swing.JScrollPane();
        actesEnregistres = new javax.swing.JList();
        jLabel10 = new javax.swing.JLabel();
        jourDate = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        moisDate = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        anneeDate = new javax.swing.JTextField();
        infosPatient = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        coefActe = new javax.swing.JTextField();
        valideCoefActe = new javax.swing.JButton();
        listeMedecins = new javax.swing.JComboBox();
        listeDeSoins = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        listesoin = new javax.swing.JList();
        triSoin = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox();
        consulterSoin = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        DateArrivee = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jButton2 = new javax.swing.JButton();
        dateDepart = new javax.swing.JTextField();
        jButton1 = new javax.swing.JButton();
        Couts = new javax.swing.JPanel();
        gh = new javax.swing.JPanel();
        listeDesActes = new javax.swing.JLabel();
        cbPatients = new javax.swing.JComboBox();
        validerCoutModif = new javax.swing.JButton();
        coutPatient = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        actesComboBox = new javax.swing.JComboBox(Code.values());
        jLabel9 = new javax.swing.JLabel();
        coutActe = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        champCoeff = new javax.swing.JTextField();
        jButton3 = new javax.swing.JButton();
        speCout = new javax.swing.JPanel();
        choixSpe = new javax.swing.JComboBox();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jButton4 = new javax.swing.JButton();
        coutSpe = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jLabel19 = new javax.swing.JLabel();
        cbMedecins = new javax.swing.JComboBox();
        jButton5 = new javax.swing.JButton();
        coutMedecin = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        ajoutPatients.setBackground(new java.awt.Color(255, 255, 255));
        ajoutPatients.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 102, 255), null));

        nom.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        nom.setText("Nom");

        ss.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        ss.setText("n° Sécu");

        adresse.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        adresse.setText("Adresse");

        wnomPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                wnomPatientActionPerformed(evt);
            }
        });

        wssPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                wssPatientActionPerformed(evt);
            }
        });

        prenom.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        prenom.setText("Prénom");

        ajouterPatient.setText("+ Ajouter");
        ajouterPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ajouterPatientActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout ajoutPatientsLayout = new javax.swing.GroupLayout(ajoutPatients);
        ajoutPatients.setLayout(ajoutPatientsLayout);
        ajoutPatientsLayout.setHorizontalGroup(
            ajoutPatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ajoutPatientsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(ajoutPatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(ajoutPatientsLayout.createSequentialGroup()
                        .addComponent(adresse, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(wadresse))
                    .addGroup(ajoutPatientsLayout.createSequentialGroup()
                        .addGroup(ajoutPatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(ajoutPatientsLayout.createSequentialGroup()
                                .addComponent(ss, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(wssPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 166, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(ajoutPatientsLayout.createSequentialGroup()
                                .addComponent(nom, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(wnomPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 165, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(prenom, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(wprenomPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 138, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, ajoutPatientsLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(ajouterPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        ajoutPatientsLayout.setVerticalGroup(
            ajoutPatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ajoutPatientsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(ajoutPatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(nom, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wnomPatient, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(prenom, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wprenomPatient, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(ajoutPatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ss, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wssPatient, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(ajoutPatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(adresse, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wadresse, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(ajouterPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        listeDePatients.setBackground(new java.awt.Color(255, 255, 255));
        listeDePatients.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 102, 255), null));

        listePatients.setViewportView(listepatient);

        ficheSoinPatient.setText("+ Fiche de Soin");
        ficheSoinPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ficheSoinPatientActionPerformed(evt);
            }
        });

        modifierPatient1.setText("Modifier");
        modifierPatient1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                modifierPatient1ActionPerformed(evt);
            }
        });

        recherchePatient.setText("O");
        recherchePatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                recherchePatientActionPerformed(evt);
            }
        });

        consulterPatient.setText("Consulter");
        consulterPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                consulterPatientActionPerformed(evt);
            }
        });

        recherchePatientCB.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Par nom prénom", "Par n° de Sécu" }));

        jLabel15.setText("Recherche de patient :");

        javax.swing.GroupLayout listeDePatientsLayout = new javax.swing.GroupLayout(listeDePatients);
        listeDePatients.setLayout(listeDePatientsLayout);
        listeDePatientsLayout.setHorizontalGroup(
            listeDePatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(listeDePatientsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(listeDePatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(listeDePatientsLayout.createSequentialGroup()
                        .addGroup(listeDePatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(listePatients, javax.swing.GroupLayout.PREFERRED_SIZE, 318, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(listeDePatientsLayout.createSequentialGroup()
                                .addComponent(recherchePatient)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(wrechercherPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(18, 18, 18)
                        .addGroup(listeDePatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(ficheSoinPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(consulterPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(modifierPatient1, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(recherchePatientCB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel15))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        listeDePatientsLayout.setVerticalGroup(
            listeDePatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, listeDePatientsLayout.createSequentialGroup()
                .addContainerGap(19, Short.MAX_VALUE)
                .addComponent(jLabel15)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(recherchePatientCB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(listeDePatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(listeDePatientsLayout.createSequentialGroup()
                        .addGroup(listeDePatientsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(recherchePatient, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(wrechercherPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addComponent(listePatients, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(listeDePatientsLayout.createSequentialGroup()
                        .addComponent(modifierPatient1, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(ficheSoinPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(consulterPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );

        javax.swing.GroupLayout patientLayout = new javax.swing.GroupLayout(patient);
        patient.setLayout(patientLayout);
        patientLayout.setHorizontalGroup(
            patientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(patientLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(patientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(ajoutPatients, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(listeDePatients, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        patientLayout.setVerticalGroup(
            patientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(patientLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(ajoutPatients, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(listeDePatients, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        menu.addTab("Patients", patient);

        ajoutPatients1.setBackground(new java.awt.Color(255, 255, 255));
        ajoutPatients1.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 102, 255), null));

        nom1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        nom1.setText("Nom");

        adresse1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        adresse1.setText("Spécialité");

        wTelMedecin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                wTelMedecinActionPerformed(evt);
            }
        });

        prenom1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        prenom1.setText("Prénom");

        ajouterMedecin.setText("+ Ajouter");
        ajouterMedecin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ajouterMedecinActionPerformed(evt);
            }
        });

        ss2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        ss2.setText("Tel");

        jLabel11.setText("Identifiant");

        jLabel12.setText("MdP");

        javax.swing.GroupLayout ajoutPatients1Layout = new javax.swing.GroupLayout(ajoutPatients1);
        ajoutPatients1.setLayout(ajoutPatients1Layout);
        ajoutPatients1Layout.setHorizontalGroup(
            ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ajoutPatients1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(ajouterMedecin, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(ajoutPatients1Layout.createSequentialGroup()
                        .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(ajoutPatients1Layout.createSequentialGroup()
                                .addComponent(nom1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(wnomMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 165, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(prenom1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(ajoutPatients1Layout.createSequentialGroup()
                                .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, ajoutPatients1Layout.createSequentialGroup()
                                        .addComponent(ss2, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(wTelMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 166, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, ajoutPatients1Layout.createSequentialGroup()
                                        .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addComponent(adresse1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel11))
                                        .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(ajoutPatients1Layout.createSequentialGroup()
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(wSpeMedecin))
                                            .addGroup(ajoutPatients1Layout.createSequentialGroup()
                                                .addGap(4, 4, 4)
                                                .addComponent(wIdentifiantMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 166, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(0, 0, Short.MAX_VALUE)))))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel12)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(wprenomMedecin, javax.swing.GroupLayout.DEFAULT_SIZE, 134, Short.MAX_VALUE)
                            .addComponent(wMDPMedecin))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        ajoutPatients1Layout.setVerticalGroup(
            ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ajoutPatients1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(nom1, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wnomMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(prenom1, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wprenomMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(wTelMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ss2, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(adresse1, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wSpeMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(ajoutPatients1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(wIdentifiantMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wMDPMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12)
                    .addComponent(jLabel11))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(ajouterMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 102, 255), null));

        consulterMedecin.setText("Consulter");
        consulterMedecin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                consulterMedecinActionPerformed(evt);
            }
        });

        modifierMedecin.setText("Modifier");
        modifierMedecin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                modifierMedecinActionPerformed(evt);
            }
        });

        rechercheMedecin.setText("O");
        rechercheMedecin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rechercheMedecinActionPerformed(evt);
            }
        });

        wrechercherMedecin.setFont(new java.awt.Font("Tahoma", 2, 11)); // NOI18N
        wrechercherMedecin.setForeground(new java.awt.Color(204, 204, 204));

        listePatients1.setViewportView(listemedecin);

        jLabel6.setText("Recherche par nom prénom :");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(listePatients1, javax.swing.GroupLayout.PREFERRED_SIZE, 318, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(modifierMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(consulterMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(rechercheMedecin)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(wrechercherMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel6))
                .addContainerGap(98, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(31, Short.MAX_VALUE)
                .addComponent(jLabel6)
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rechercheMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(wrechercherMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(modifierMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(consulterMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(listePatients1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        javax.swing.GroupLayout medecinLayout = new javax.swing.GroupLayout(medecin);
        medecin.setLayout(medecinLayout);
        medecinLayout.setHorizontalGroup(
            medecinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(medecinLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(medecinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(ajoutPatients1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        medecinLayout.setVerticalGroup(
            medecinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(medecinLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(ajoutPatients1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        menu.addTab("Médecins", medecin);

        ajoutDeSoins.setBackground(new java.awt.Color(255, 255, 255));
        ajoutDeSoins.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 102, 255), null));

        dateSoin.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        dateSoin.setText("Date");

        medecinSoin.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        medecinSoin.setText("Médecin");

        patientSoin.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        patientSoin.setText("Patient");

        actesSoin.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        actesSoin.setText("Code Acte");

        ajouterSoin.setText("+ Ajouter");
        ajouterSoin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ajouterSoinActionPerformed(evt);
            }
        });

        listesActesFicheSoin.setModel(new javax.swing.DefaultComboBoxModel(Code.values()));

        jScrollPane2.setViewportView(actesEnregistres);

        jLabel10.setText("JJ");

        jourDate.setText(getJour());

        jLabel13.setText("AA");

        moisDate.setText(this.getMois());
        moisDate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                moisDateActionPerformed(evt);
            }
        });

        jLabel14.setText("MM");

        anneeDate.setText(getAnnee());
        anneeDate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                anneeDateActionPerformed(evt);
            }
        });

        jLabel7.setText("Coef.");

        valideCoefActe.setText("Valider Acte");
        valideCoefActe.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                valideCoefActeActionPerformed(evt);
            }
        });

        listeMedecins.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                listeMedecinsActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout ajoutDeSoinsLayout = new javax.swing.GroupLayout(ajoutDeSoins);
        ajoutDeSoins.setLayout(ajoutDeSoinsLayout);
        ajoutDeSoinsLayout.setHorizontalGroup(
            ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                        .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                                .addComponent(dateSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel10)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jourDate, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 19, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(moisDate, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel13)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(anneeDate, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                                .addComponent(patientSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(listeMedecins, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(infosPatient, javax.swing.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE))))
                        .addGap(240, 240, 240))
                    .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                        .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(medecinSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel7)
                                    .addComponent(actesSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(listesActesFicheSoin, 0, 114, Short.MAX_VALUE)
                                    .addComponent(coefActe)
                                    .addComponent(valideCoefActe, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(ajouterSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );
        ajoutDeSoinsLayout.setVerticalGroup(
            ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(dateSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel10)
                    .addComponent(jourDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel13)
                    .addComponent(moisDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel14)
                    .addComponent(anneeDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(medecinSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(listeMedecins, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(patientSoin)
                    .addComponent(infosPatient, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(8, 8, 8)
                .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(ajoutDeSoinsLayout.createSequentialGroup()
                        .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(listesActesFicheSoin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(actesSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel7)
                            .addComponent(coefActe, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(valideCoefActe))
                    .addGroup(ajoutDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(ajouterSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(18, Short.MAX_VALUE))
        );

        listeDeSoins.setBackground(new java.awt.Color(255, 255, 255));
        listeDeSoins.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 102, 255), null));

        jScrollPane1.setViewportView(listesoin);

        triSoin.setText("Trier par");

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        consulterSoin.setText("Consulter");
        consulterSoin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                consulterSoinActionPerformed(evt);
            }
        });

        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel2.setText("De");

        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel3.setText("A");

        jLabel4.setText("Afficher fiches");

        jButton2.setFont(new java.awt.Font("Tahoma", 0, 10)); // NOI18N
        jButton2.setText("OK");

        jButton1.setText("Toutes les fiches");

        javax.swing.GroupLayout listeDeSoinsLayout = new javax.swing.GroupLayout(listeDeSoins);
        listeDeSoins.setLayout(listeDeSoinsLayout);
        listeDeSoinsLayout.setHorizontalGroup(
            listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(listeDeSoinsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 315, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(listeDeSoinsLayout.createSequentialGroup()
                        .addComponent(triSoin)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(listeDeSoinsLayout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(listeDeSoinsLayout.createSequentialGroup()
                        .addGroup(listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(listeDeSoinsLayout.createSequentialGroup()
                                .addComponent(jLabel2)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(dateDepart, javax.swing.GroupLayout.PREFERRED_SIZE, 52, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 13, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(DateArrivee, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 47, Short.MAX_VALUE)
                                .addComponent(jButton2))
                            .addGroup(listeDeSoinsLayout.createSequentialGroup()
                                .addGroup(listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jButton1)
                                    .addComponent(consulterSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(0, 0, Short.MAX_VALUE)))
                        .addContainerGap())))
        );
        listeDeSoinsLayout.setVerticalGroup(
            listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, listeDeSoinsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(triSoin)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(listeDeSoinsLayout.createSequentialGroup()
                        .addGroup(listeDeSoinsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(dateDepart, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel2)
                            .addComponent(jLabel3)
                            .addComponent(DateArrivee, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButton2))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(consulterSoin, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 149, Short.MAX_VALUE))
                .addContainerGap())
        );

        javax.swing.GroupLayout soinLayout = new javax.swing.GroupLayout(soin);
        soin.setLayout(soinLayout);
        soinLayout.setHorizontalGroup(
            soinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(soinLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(soinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(ajoutDeSoins, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(listeDeSoins, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        soinLayout.setVerticalGroup(
            soinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(soinLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(ajoutDeSoins, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(23, 23, 23)
                .addComponent(listeDeSoins, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        menu.addTab("Soins", soin);

        gh.setBorder(javax.swing.BorderFactory.createTitledBorder("Coût d'un Patient"));

        listeDesActes.setText("Choix du Patient");

        validerCoutModif.setText("Calcul");
        validerCoutModif.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                validerCoutModifActionPerformed(evt);
            }
        });

        coutPatient.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel20.setText("");

        javax.swing.GroupLayout ghLayout = new javax.swing.GroupLayout(gh);
        gh.setLayout(ghLayout);
        ghLayout.setHorizontalGroup(
            ghLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ghLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(ghLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(listeDesActes)
                    .addGroup(ghLayout.createSequentialGroup()
                        .addComponent(validerCoutModif, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(coutPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel20))
                    .addComponent(cbPatients, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        ghLayout.setVerticalGroup(
            ghLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ghLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(listeDesActes)
                .addGap(13, 13, 13)
                .addComponent(cbPatients, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(ghLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(validerCoutModif, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, ghLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabel20)
                        .addComponent(coutPatient, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(83, 83, 83))
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder("Voir le Coût d'un Acte"));

        jLabel8.setText("Choisir un Acte");

        actesComboBox.setModel(new javax.swing.DefaultComboBoxModel(Code.values()));
        actesComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                actesComboBoxActionPerformed(evt);
            }
        });

        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel9.setText("");

        coutActe.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel16.setText("Coeff.");

        champCoeff.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                champCoeffActionPerformed(evt);
            }
        });

        jButton3.setText("Calcul");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel8)
                        .addGap(37, 37, 37)
                        .addComponent(jLabel16))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(actesComboBox, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jButton3, javax.swing.GroupLayout.DEFAULT_SIZE, 87, Short.MAX_VALUE))
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(coutActe, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                                .addGap(22, 22, 22)
                                .addComponent(champCoeff, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 16, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel8)
                            .addComponent(jLabel16))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(actesComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(champCoeff, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jButton3)
                            .addComponent(coutActe, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        speCout.setBorder(javax.swing.BorderFactory.createTitledBorder("Coûts par spécialité"));

        choixSpe.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                choixSpeActionPerformed(evt);
            }
        });

        jLabel17.setText("Spécialité");

        jLabel18.setText("");

        jButton4.setText("Calcul");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        coutSpe.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        javax.swing.GroupLayout speCoutLayout = new javax.swing.GroupLayout(speCout);
        speCout.setLayout(speCoutLayout);
        speCoutLayout.setHorizontalGroup(
            speCoutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(speCoutLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(speCoutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addGroup(speCoutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabel17)
                        .addComponent(choixSpe, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(speCoutLayout.createSequentialGroup()
                        .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(coutSpe, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 12, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(17, Short.MAX_VALUE))
        );
        speCoutLayout.setVerticalGroup(
            speCoutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(speCoutLayout.createSequentialGroup()
                .addGap(8, 8, 8)
                .addGroup(speCoutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(coutSpe, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(speCoutLayout.createSequentialGroup()
                        .addComponent(jLabel17)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(choixSpe, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(14, 14, 14)
                        .addGroup(speCoutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel18, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap(89, Short.MAX_VALUE))
        );

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder("Coût d'un Médecin"));

        jLabel19.setText("Médecin");

        jButton5.setText("Calcul");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });

        coutMedecin.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel21.setText("");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel19)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(coutMedecin, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 16, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(cbMedecins, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(123, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel19)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cbMedecins, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel21, javax.swing.GroupLayout.DEFAULT_SIZE, 25, Short.MAX_VALUE)
                    .addComponent(coutMedecin, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jButton5, javax.swing.GroupLayout.Alignment.TRAILING))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout CoutsLayout = new javax.swing.GroupLayout(Couts);
        Couts.setLayout(CoutsLayout);
        CoutsLayout.setHorizontalGroup(
            CoutsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(CoutsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(CoutsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(speCout, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(CoutsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(gh, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        CoutsLayout.setVerticalGroup(
            CoutsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, CoutsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(CoutsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(gh, javax.swing.GroupLayout.PREFERRED_SIZE, 198, Short.MAX_VALUE)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(CoutsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(speCout, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(27, 27, 27))
        );

        menu.addTab("Coûts", Couts);

        javax.swing.GroupLayout fenetreLayout = new javax.swing.GroupLayout(fenetre);
        fenetre.setLayout(fenetreLayout);
        fenetreLayout.setHorizontalGroup(
            fenetreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(menu)
        );
        fenetreLayout.setVerticalGroup(
            fenetreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(fenetreLayout.createSequentialGroup()
                .addComponent(menu, javax.swing.GroupLayout.PREFERRED_SIZE, 479, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        menu.getAccessibleContext().setAccessibleName("patient");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(fenetre, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(fenetre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    /**
     * Permet d'importer les patients déjà présents dans l'XML pour les ajouter
     * à listepatient
     *
     */
    private void importPatientFromXML() {

        listepatient.setModel(dlmPat);

       // LectureXML pat = new LectureXML("dossiers.xml");
       // dm = pat.getDossier();
        for (int i = 0; i < dm.getFiches().size(); i++) {

            Patient p = new Patient(dm.getFiches().get(i).getPatient().getNom(), dm.getFiches().get(i).getPatient().getPrenom(), dm.getFiches().get(i).getPatient().getSecu(), dm.getFiches().get(i).getPatient().getAdresse());
            patients.add(p);

            dlmPat.addElement(patients.get(i).getNom() + " " + patients.get(i).getPrenom() + ", n°Sécu : " + patients.get(i).getSecu());

        }
        listepatient.setModel(dlmPat);

    }

    private void importMedecinFromXML() {

        listemedecin.setModel(dlmMed);

        //LectureXML med = new LectureXML("dossiers.xml");
        //dm = med.getDossier();
        
        for (int i = 0; i < dm.getFiches().size(); i++) {

            Medecin medecin = new Medecin(dm.getFiches().get(i).getMedecin().getNom(), dm.getFiches().get(i).getMedecin().getPrenom(), dm.getFiches().get(i).getMedecin().getSpecialite(), dm.getFiches().get(i).getMedecin().getTel(), dm.getFiches().get(i).getMedecin().getIdentifiant(), dm.getFiches().get(i).getMedecin().getMdp());
            medecins.add(medecin);

            dlmMed.addElement(medecins.get(i).getNom() + " " + medecins.get(i).getPrenom() + ", n° tel : " + medecins.get(i).getTel() + ", Spé : " + medecins.get(i).getSpecialite());
            
            int j = 0;
            String spe = medecin.getSpecialite().toUpperCase();
            while (j < specialites.size() && !spe.equals(specialites.get(j))) {
                j++;
            }
            if (j == specialites.size()) {
                specialites.add(spe);
                choixSpe.addItem(spe);
            }
        }
        listemedecin.setModel(dlmMed);

        
    }
    
    public void importFicheDeSoins (){
                listesoin.setModel(dlmSoin);
                System.out.println("OK");
                LectureXML lecture = new LectureXML("dossiers.xml");
                dm= lecture.getDossier();
                
                for (int i=0; i< dm.getFiches().size(); i++)
                {
                 dlmSoin.addElement(dm.getFiches().get(i).getDate().toString() + " - Médecin : " + dm.getFiches().get(i).getMedecin().getNom() + " " + dm.getFiches().get(i).getMedecin().getPrenom() + " - Patient : " + dm.getFiches().get(i).getPatient().getNom() + " " + dm.getFiches().get(i).getPatient().getPrenom());
                }
//                System.out.println("dm.getFiche..." + dm.getFiches().get(0).getDate().toString());
                listesoin.setModel(dlmSoin);
           }    
    
     /**
     * Méthode qui récupère le jour du système
     * @return 
     */
        
     public String getJour(){
        java.util.Date d=new java.util.Date();
        Integer i = d.getDay();
        return i.toString();
    }
     
     /**
     * Méthode qui récupère le mois du système
     * @return 
     */
        
     public String getMois(){
        java.util.Date d=new java.util.Date();
        Integer i = d.getMonth();
        return i.toString();
    }
     
     /**
     * Méthode qui récupère l'année du système
     * @return 
     */
        
     public String getAnnee(){
        java.util.Date d=new java.util.Date();
        Integer i = d.getYear();
        return i.toString();
    }
    
   


    private void ajouterPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ajouterPatientActionPerformed

        Patient patient = new Patient(wnomPatient.getText(), wprenomPatient.getText(), wssPatient.getText(), wadresse.getText());

        if (wnomPatient.getText().equals("") || wprenomPatient.getText().equals("") || wssPatient.getText().equals("") || wadresse.getText().equals("")) {

            JFrame frame = new JFrame();
            JOptionPane.showMessageDialog(frame, "Merci de remplir toutes les informations avant d'ajouter un Patient.");

        } else if (!patient.testSecu(wssPatient.getText())) {
            JFrame frame = new JFrame();
            JOptionPane.showMessageDialog(frame, "Le numéro de Sécurité Sociale n'est pas valide !");
        } else {

            patients.add(patient);

            int taille = 1;
            for (int i = 0; i < taille; i++) {

                dlmPat.addElement(patient.getNom() + " " + patient.getPrenom() + " n° Sécu : " + patient.getSecu());

            }

            taille++;

            listepatient.setListData(dlmPat.toArray());
            wnomPatient.setText(null);
            wprenomPatient.setText(null);
            wssPatient.setText(null);
            wadresse.setText(null);
            cbPatients.addItem(patient);

    }//GEN-LAST:event_ajouterPatientActionPerformed

    }
    private void ficheSoinPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ficheSoinPatientActionPerformed

        int selectedIndex = menu.getSelectedIndex();
        patientSelectionne = listepatient.getSelectedIndex();
        System.out.println("quelle ligne sélectionnée :" + listepatient.getSelectedIndex());
        System.out.println("arraylist de patients : " + patients);
        selectedIndex = (selectedIndex + 2) % menu.getTabCount();
        menu.setSelectedIndex(selectedIndex);

        infosPatient.setText(listepatient.getSelectedValue().toString());

    //reste à faire un override de toString pour que chaque élément soit sur une ligne différente si possible

    }//GEN-LAST:event_ficheSoinPatientActionPerformed

    private void validerPatientModifActionPerformed(java.awt.event.ActionEvent evt) {
        patients.get(res).setNom(nomModif.getText());
        patients.get(res).setPrenom(prenomModif.getText());
        patients.get(res).setSecu(nSSModif.getText());
        patients.get(res).setAdresse(adresseModif.getText());

        dlmPat.remove(res);
        dlmPat.add(res, patients.get(res).getNom() + " " + patients.get(res).getPrenom() + " n° sécu : " + patients.get(res).getSecu());
        listepatient.setModel(dlmPat);
        if (!patients.get(res).testSecu(nSSModif.getText())){
                    System.out.println("if");
                    JFrame frame = new JFrame();
                    JOptionPane.showMessageDialog(frame, "Le numéro de Sécurité Sociale n'a pas été modifié car il n'est pas valide !");}

        dialog1.dispose();
        
       
    }
    private void modifierPatient1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_modifierPatient1ActionPerformed
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                //On crée une nouvelle instance de notre JDialog
                dialog1 = new JDialog();
                dialog1.setLocationRelativeTo(null);
                dialog1.setSize(200, 250);//On lui donne une taille
                dialog1.setTitle("Modifier Patient"); //On lui donne un titre

                dialog1.setLayout(new BorderLayout());
                JButton valider = new JButton("Valider");
                JPanel boutons = new JPanel();
                boutons.setLayout(new FlowLayout());
                dialog1.add(boutons, BorderLayout.SOUTH);
                boutons.add(valider);

                JPanel infosPatient = new JPanel();
                infosPatient.setLayout(new BoxLayout(infosPatient, Y_AXIS));
                dialog1.add(infosPatient, BorderLayout.CENTER);
                res = listepatient.getSelectedIndex();

                nomModif = new JTextField();
                nomModif.setText((String) patients.get(res).getNom());

                prenomModif = new JTextField();
                prenomModif.setText((String) patients.get(res).getPrenom());

                nSSModif = new JTextField();

                System.out.println("num secu modif : " + (String) patients.get(res).getSecu());

                System.out.println("else");
                nSSModif.setText((String) patients.get(res).getSecu());

                adresseModif = new JTextField();
                adresseModif.setText((String) patients.get(res).getAdresse());

                infosPatient.add(nomModif);
                infosPatient.add(prenomModif);
                infosPatient.add(nSSModif);
                infosPatient.add(adresseModif);

                dialog1.setVisible(true);//On la rend visible
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //On dit à l'application de se fermer lors du clic sur la croix

                valider.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        validerPatientModifActionPerformed(evt);
                        
                    }
                });

            }
        });
    }//GEN-LAST:event_modifierPatient1ActionPerformed


    private void recherchePatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_recherchePatientActionPerformed

        System.out.println("TEST JComboBox : " + recherchePatientCB.getSelectedItem());
        switch (recherchePatientCB.getSelectedIndex()) {
            case 0:
                String recherche = wrechercherPatient.getText();
                int taille = patients.size();
                int nbRes = 0;
                boolean trouve = false;
                while ((trouve == false) && (nbRes < taille)) {

                    if (patients.get(nbRes).getNom().toUpperCase(Locale.FRENCH).startsWith(recherche.toUpperCase(Locale.FRENCH))) {
                        trouve = true;
                        listepatient.setSelectedIndex(nbRes);

                    } else {

                        nbRes++;
                    }
                    System.out.println(trouve);

                }
                if (trouve == false) {
                    JFrame frame = new JFrame();
                    JOptionPane.showMessageDialog(frame, "Le Patient n'est pas enregistré.");
                }
                break;

            case 1:
                String rechercheSecu = wrechercherPatient.getText();
                int tailleSecu = patients.size();
                int nbResSecu = 0;
                boolean trouveSecu = false;
                while ((trouveSecu == false) && (nbResSecu < tailleSecu)) {

                    if (patients.get(nbResSecu).getSecu().endsWith(rechercheSecu)) {
                        trouveSecu = true;
                        listepatient.setSelectedIndex(nbResSecu);

                    } else {

                        nbResSecu++;
                    }
                    System.out.println(trouveSecu);

                }
                if (trouveSecu == false) {
                    JFrame frame = new JFrame();
                    JOptionPane.showMessageDialog(frame, "Le Patient n'est pas enregistré.");
                }
                break;
            default:
                JFrame frame = new JFrame();
                JOptionPane.showMessageDialog(frame, "Le Patient n'est pas enregistré.");
                break;
        }


    }//GEN-LAST:event_recherchePatientActionPerformed

    private void consulterPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_consulterPatientActionPerformed
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                //On crée une nouvelle instance de notre JDialog
                dialog = new JDialog();
                dialog.setLocationRelativeTo(null);
                dialog.setSize(300, 375);//On lui donne une taille
                dialog.setTitle("Fiche Patient"); //On lui donne un titre

                dialog.setLayout(new BorderLayout());
                JButton retour = new JButton("Retour");
                JButton imprimer = new JButton("Imprimer");
                JPanel boutons = new JPanel();
                boutons.setLayout(new FlowLayout());
                dialog.add(boutons, BorderLayout.SOUTH);
                boutons.add(retour);
                boutons.add(imprimer);

                JPanel infosPatient = new JPanel();
                infosPatient.setLayout(new BoxLayout(infosPatient, Y_AXIS));
                dialog.add(infosPatient, BorderLayout.CENTER);

                int res = listepatient.getSelectedIndex();
                JLabel nom1 = new JLabel((String) patients.get(res).getNom());
                nom1.setFont(new Font("Serif", Font.PLAIN, 22));
                JLabel prenom1 = new JLabel((String) patients.get(res).getPrenom());
                prenom1.setFont(new Font("Serif", Font.PLAIN, 18));
                JLabel secu1 = new JLabel((String) patients.get(res).getSecu());
                secu1.setFont(new Font("Serif", Font.PLAIN, 15));
                JLabel adresse1 = new JLabel((String) patients.get(res).getAdresse());
                adresse1.setFont(new Font("Serif", Font.PLAIN, 15));
                JLabel vide = new JLabel(" ");      //Créer un espace entre les infos générales du patients et son adresse
                JLabel fds = new JLabel("Fiches de Soin");
                fds.setFont(new Font("Serif", Font.PLAIN, 15));
                JLabel vide2 = new JLabel(" ");
                //JTextArea listeSoins = new JTextArea();
                JList listeSoins = new JList();
                DefaultListModel dlmsoin = new DefaultListModel();

                infosPatient.add(nom1);
                infosPatient.add(prenom1);
                infosPatient.add(secu1);
                infosPatient.add(vide);
                infosPatient.add(adresse1);
                infosPatient.add(vide2);
                infosPatient.add(fds);
                
                
                int n=0;       
                for(int i=0;i<dm.getFiches().size();i++){
                    if(patients.get(res).getSecu().equals(dm.getFiches().get(i).getPatient().getSecu())){
                        dlmsoin.addElement(dm.getFiches().get(i).getDate());
                        
                        //listeSoins.setText(dm.getFiches().get(i).getDate() + " " + dm.getFiches().get(i).getMedecin().getNom() + " " + dm.getFiches().get(i).getMedecin().getPrenom());
                        System.out.println("secu patient sélectionné = sécu dans dm");
                        n=n+1;
                    }
                }
                System.out.println("nb de fiches du patient sélectionné : " + n);
                listeSoins.setModel(dlmsoin);

                infosPatient.add(listeSoins);
                
                dialog.setVisible(true);//On la rend visible
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //On dit à l'application de se fermer lors du clic sur la croix

                retour.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        retourActionPerformed(evt);
                    }
                });

                imprimer.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        imprimerPatientActionPerformed(evt);
                    }
                });

            }
        });
    }//GEN-LAST:event_consulterPatientActionPerformed

    private void imprimerMedecinActionPerformed(java.awt.event.ActionEvent evt) {
        int res = listemedecin.getSelectedIndex();
        Impression imp = new Impression();
        imp.imprimer(medecins.get(res));
    }

    private void retourActionPerformed(java.awt.event.ActionEvent evt) {
        dialog.dispose();
    }

    private void imprimerPatientActionPerformed(java.awt.event.ActionEvent evt) {
        int res = listepatient.getSelectedIndex();
        Impression imp = new Impression();
        imp.imprimer(patients.get(res));

    }

    private void retour2ActionPerformed(java.awt.event.ActionEvent evt) {
        dialog3.dispose();
    }

    private void retour3ActionPerformed(java.awt.event.ActionEvent evt) {
        dialog4.dispose();
    }
    private void ajouterMedecinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ajouterMedecinActionPerformed

        Medecin medecin = new Medecin(wnomMedecin.getText(), wprenomMedecin.getText(), wSpeMedecin.getText(), wTelMedecin.getText(), wIdentifiantMedecin.getText(), wMDPMedecin.getText());
        if (wnomMedecin.getText().equals("") || wprenomMedecin.getText().equals("") || wSpeMedecin.getText().equals("") || wTelMedecin.getText().equals("") || wIdentifiantMedecin.getText().equals("") || wMDPMedecin.getText().equals("")) {

            JFrame frame = new JFrame();
            JOptionPane.showMessageDialog(frame, "Merci de remplir toutes les informations avant d'ajouter un Médecin.");
        } else {
            medecins.add(medecin);
            
            
            
   
            int taille = 1;
            for (int i = 0; i < taille; i++) {
                dlmMed.addElement(medecin.getNom() + " " + medecin.getPrenom() + ", n° tel : " + medecin.getTel() + ", Spé : " + medecin.getSpecialite());
             
                int j = 0;
            String spe = medecin.getSpecialite().toUpperCase();
            while (j < specialites.size() && !spe.equals(specialites.get(j))) {
                j++;
            }
            if (j == specialites.size()) {
                specialites.add(spe);
                choixSpe.addItem(spe);
            }
            }
            taille++;

            //System.out.println("test2 " + dlmMed);
            listemedecin.setModel(dlmMed);
            System.out.println("test2 " + dlmMed);
            listemedecin.setModel(dlmMed);
            wnomMedecin.setText(null);
            wprenomMedecin.setText(null);
            wTelMedecin.setText(null);
            wSpeMedecin.setText(null);
            wIdentifiantMedecin.setText(null);
            wMDPMedecin.setText(null);
            listeMedecins.addItem(medecin);
            cbMedecins.addItem(medecin);

        }
    }//GEN-LAST:event_ajouterMedecinActionPerformed

    private void consulterMedecinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_consulterMedecinActionPerformed
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                //On crée une nouvelle instance de notre JDialog
                dialog3 = new JDialog();
                dialog3.setLocationRelativeTo(null);
                dialog3.setSize(300, 200);//On lui donne une taille
                dialog3.setTitle("Fiche Médecin"); //On lui donne un titre

                dialog3.setLayout(new BorderLayout());
                JButton retour = new JButton("Retour");
                JButton imprimer = new JButton("Imprimer");
                JPanel boutons = new JPanel();
                boutons.setLayout(new FlowLayout());
                dialog3.add(boutons, BorderLayout.SOUTH);
                boutons.add(retour);
                boutons.add(imprimer);

                JPanel infosMedecin = new JPanel();
                infosMedecin.setLayout(new BoxLayout(infosMedecin, Y_AXIS));
                dialog3.add(infosMedecin, BorderLayout.CENTER);

                int res = listemedecin.getSelectedIndex();
                JLabel nom1 = new JLabel((String) medecins.get(res).getNom());
                nom1.setFont(new Font("Serif", Font.PLAIN, 22));
                JLabel prenom1 = new JLabel((String) medecins.get(res).getPrenom());
                prenom1.setFont(new Font("Serif", Font.PLAIN, 18));
                JLabel spe = new JLabel((String) medecins.get(res).getSpecialite());
                spe.setFont(new Font("Serif", Font.PLAIN, 15));
                JLabel tel = new JLabel((String) medecins.get(res).getTel());
                tel.setFont(new Font("Serif", Font.PLAIN, 15));

                infosMedecin.add(nom1);
                infosMedecin.add(prenom1);
                infosMedecin.add(spe);
                infosMedecin.add(tel);

                dialog3.setVisible(true);//On la rend visible
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //On dit à l'application de se fermer lors du clic sur la croix

                retour.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        retour2ActionPerformed(evt);
                    }
                });

                imprimer.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        imprimerMedecinActionPerformed(evt);
                    }
                });
            }
        });


    }//GEN-LAST:event_consulterMedecinActionPerformed


    private void modifierMedecinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_modifierMedecinActionPerformed
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                dialog2 = new JDialog();
                dialog2.setLocationRelativeTo(null);
                dialog2.setSize(200, 350);//On lui donne une taille
                dialog2.setTitle("Modifier Médecin"); //On lui donne un titre

                dialog2.setLayout(new BorderLayout());
                dialog2.setVisible(true);//On la rend visible

                dialog2.setLayout(new BorderLayout());
                JButton valider2 = new JButton("Valider");
                JPanel boutons = new JPanel();
                boutons.setLayout(new FlowLayout());
                dialog2.add(boutons, BorderLayout.SOUTH);
                boutons.add(valider2);

                JPanel infosMedecin = new JPanel();
                infosMedecin.setLayout(new BoxLayout(infosMedecin, Y_AXIS));
                dialog2.add(infosMedecin, BorderLayout.CENTER);
                res2 = listemedecin.getSelectedIndex(); //Indice de l'élément sélectionné

                nomMedModif = new JTextField();
                infosMedecin.add(nomMedModif);
                nomMedModif.setText(medecins.get(res2).getNom());

                prenomMedModif = new JTextField();
                infosMedecin.add(prenomMedModif);
                prenomMedModif.setText(medecins.get(res2).getPrenom());

                telMedModif = new JTextField();
                infosMedecin.add(telMedModif);
                telMedModif.setText(medecins.get(res2).getTel());

                speMedModif = new JTextField();
                infosMedecin.add(speMedModif);
                speMedModif.setText(medecins.get(res2).getSpecialite());

                mdpMedModif = new JTextField();
                infosMedecin.add(mdpMedModif);
                mdpMedModif.setText(medecins.get(res2).getMdp());

                loginMedModif = new JTextField();
                infosMedecin.add(loginMedModif);
                loginMedModif.setText(medecins.get(res2).getIdentifiant());

                dialog2.setVisible(true);//On la rend visible
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //On dit à l'application de se fermer lors du clic sur la croix

                valider2.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        validerMedecinModifActionPerformed(evt);
                    }
                });
            }
        });
    }//GEN-LAST:event_modifierMedecinActionPerformed

    private void validerMedecinModifActionPerformed(java.awt.event.ActionEvent evt) {
        medecins.get(res2).setNom(nomMedModif.getText());
        medecins.get(res2).setPrenom(prenomMedModif.getText());
        medecins.get(res2).setTel(telMedModif.getText());
        medecins.get(res2).setSpecialite(speMedModif.getText());
        medecins.get(res2).setIdentifiant(loginMedModif.getText());
        medecins.get(res2).setMdp(mdpMedModif.getText());
        System.out.println(mdpMedModif.getText());

        dlmMed.remove(res2);
        dlmMed.add(res2, medecins.get(res2).getNom() + " " + medecins.get(res2).getPrenom() + " n° : " + medecins.get(res2).getTel() + " Spé : " + medecins.get(res2).getSpecialite());
        listemedecin.setModel(dlmMed);

        dialog2.dispose();
    }

    private void rechercheMedecinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rechercheMedecinActionPerformed
        String recherche = wrechercherMedecin.getText();
        int taille = medecins.size();
        int nbRes = 0;
        boolean trouve = false;
        while ((trouve == false) && (nbRes < taille)) {

            if (medecins.get(nbRes).getNom().toUpperCase(Locale.FRENCH).startsWith(recherche.toUpperCase(Locale.FRENCH))) {
                trouve = true;
                listemedecin.setSelectedIndex(nbRes);

            } else {

                nbRes++;
            }
            System.out.println(trouve);

        }
        if (trouve == false) {
            JFrame frame = new JFrame();
            JOptionPane.showMessageDialog(frame, "Le Patient n'est pas enregistré.");

        }

    }//GEN-LAST:event_rechercheMedecinActionPerformed

    private void consulterSoinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_consulterSoinActionPerformed
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {                
                LectureXML lect = new LectureXML("dossiers.xml");
                dm = lect.getDossier();             

              //On crée une nouvelle instance de notre JDialog
                dialog4 = new JDialog();
                dialog4.setLocationRelativeTo(null);
                dialog4.setSize(400, 300);//On lui donne une taille
                dialog4.setTitle("Fiche de soin"); //On lui donne un titre


                dialog4.setLayout(new BorderLayout());
                JButton retour = new JButton("Retour");
                JButton imprimer = new JButton("Imprimer");
                JPanel boutons = new JPanel();
                boutons.setLayout(new FlowLayout());
                dialog4.add(boutons, BorderLayout.SOUTH);
                boutons.add(retour);
                boutons.add(imprimer);

                JPanel infosSoins = new JPanel();
                dialog4.add(infosSoins, BorderLayout.CENTER);
                
                int res = listesoin.getSelectedIndex();
                //JList label = new JList();
                
                JTextArea label = new JTextArea();
                label.setText(dm.getFiches().get(res).toString());
                infosSoins.add(label);
   
                
                label.setText(dm.getFiches().get(res).toString());
                dialog4.setVisible(true);//On la rend visible
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //On dit à l'application de se fermer lors du clic sur la croix

                retour.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        retour3ActionPerformed(evt);
                    }
                });

                imprimer.addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        imprimerFicheSoinActionPerformed(evt);
                    }
                });
            }
        });
    }//GEN-LAST:event_consulterSoinActionPerformed

    private void imprimerFicheSoinActionPerformed(java.awt.event.ActionEvent evt) {
        int res = listesoin.getSelectedIndex();
        Impression imp = new Impression();
        //imp.imprimer(patients.get(res));
    }
    
    private void wnomPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_wnomPatientActionPerformed

    }//GEN-LAST:event_wnomPatientActionPerformed

    private void wssPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_wssPatientActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_wssPatientActionPerformed

    private void wTelMedecinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_wTelMedecinActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_wTelMedecinActionPerformed

    private void ajouterSoinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ajouterSoinActionPerformed

        int jour = Integer.parseInt(jourDate.getText());
        int mois = Integer.parseInt(moisDate.getText());
        int annee = Integer.parseInt(anneeDate.getText());
        FicheDeSoins fds = new FicheDeSoins(patients.get(patientSelectionne), medecins.get(listeMedecins.getSelectedIndex()), new Date(jour, mois, annee));
        fds.setActes(vActe);
        dm.ajouterFiche(fds);
        System.out.println("vecteurs actes : " + dm.getFiches().get(0).getActes().toString());
        EcritureXML ecr = new EcritureXML(dm);
        try {
            ecr.setXML();
        } catch (XMLStreamException ex) {
            Logger.getLogger(Fenetre.class.getName()).log(Level.SEVERE, null, ex);
        } catch (IOException ex) {
            Logger.getLogger(Fenetre.class.getName()).log(Level.SEVERE, null, ex);
        }

        LectureXML lec = new LectureXML("dossiers.xml");
        dm = lec.getDossier();
        
        int taille = 1;
        for (int i = 0; i < taille; i++) {
            
                

            dlmSoin.addElement(fds.getDate().toString() + " - Médecin : " + fds.getMedecin().getNom() + " " + fds.getMedecin().getPrenom() + " - Patient : " + fds.getPatient().getNom() + " " + fds.getPatient().getPrenom());
            
        }
            
        taille++;
        

        //System.out.println("dm " + dm);
        //dm.afficher();
        listesoin.setModel(dlmSoin);

        jourDate.setText(null);
        moisDate.setText(null);
        anneeDate.setText(null);
        coefActe.setText(null);
        infosPatient.setText(null);
        DefaultListModel dlmSoinVide = new DefaultListModel();
        dlmActe.removeAllElements();
        dlmSoinVide.addElement("");
        actesEnregistres.setModel(dlmSoinVide);
        vActe.removeAllElements();

    }//GEN-LAST:event_ajouterSoinActionPerformed

    private void moisDateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_moisDateActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_moisDateActionPerformed

    private void anneeDateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_anneeDateActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_anneeDateActionPerformed

    private void valideCoefActeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_valideCoefActeActionPerformed
        /*System.out.println(Integer.parseInt(coefActe.getText()));
         if (Integer.parseInt(coefActe.getText()) == NaN ) {
         System.out.println("erreur");
         JFrame frame = new JFrame();
         JOptionPane.showMessageDialog(frame, "Merci de remplir toutes les informations avant d'ajouter un acte.");}
        
         else{*/
        Acte acte = new Acte((Code) listesActesFicheSoin.getSelectedItem(), Integer.parseInt(coefActe.getText()));
        vActe.addElement(acte);
        int taille = 1;
        for (int i = 0; i < taille; i++) {
            dlmActe.addElement(acte);
        }
        taille++;
        actesEnregistres.setModel(dlmActe);
        System.out.println(vActe);
    }//GEN-LAST:event_valideCoefActeActionPerformed

    private void champCoeffActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_champCoeffActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_champCoeffActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        Acte acte = new Acte((Code) actesComboBox.getSelectedItem(), Integer.parseInt(champCoeff.getText()));
        double cout = acte.getCode().getCout() * Integer.parseInt(champCoeff.getText());
        coutActe.setText(String.valueOf(cout));
        champCoeff.setText("");// TODO add your handling code here:
    }//GEN-LAST:event_jButton3ActionPerformed

    private void choixSpeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_choixSpeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_choixSpeActionPerformed

    private void listeMedecinsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_listeMedecinsActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_listeMedecinsActionPerformed

    private void actesComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_actesComboBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_actesComboBoxActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
    
        LectureXML med = new LectureXML("dossiers.xml");
        dm = med.getDossier();
        double cout = dm.coutSpecialite((String)choixSpe.getSelectedItem());
        coutSpe.setText(String.valueOf(cout));
         
    }//GEN-LAST:event_jButton4ActionPerformed

    private void validerCoutModifActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_validerCoutModifActionPerformed
        LectureXML med = new LectureXML("dossiers.xml");
        dm = med.getDossier();
        double cout = dm.coutPatient((Patient)cbPatients.getSelectedItem());;
        coutPatient.setText(String.valueOf(cout));
       
    }//GEN-LAST:event_validerCoutModifActionPerformed

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        LectureXML med = new LectureXML("dossiers.xml");
        dm = med.getDossier();
        double cout = dm.coutMedecin((Medecin)cbMedecins.getSelectedItem());;
        coutMedecin.setText(String.valueOf(cout));
    }//GEN-LAST:event_jButton5ActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;

                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Fenetre.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Fenetre.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Fenetre.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Fenetre.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                Login login = new Login();
                login.setVisible(true);
                //new Fenetre().setVisible(true);

            }
        });
    }

   // Date TodayJour = SystemClockFactory.getDatetime();
    int patientSelectionne; // N° ligne du patient sélectionné

    int res;
    int res2;
    JTextField nomModif;
    JTextField prenomModif;
    JTextField nSSModif;
    JTextField adresseModif;

    JTextField nomMedModif;
    JTextField prenomMedModif;
    JTextField telMedModif;
    JTextField speMedModif;
    JTextField loginMedModif;
    JTextField mdpMedModif;

    JDialog dialog;
    JDialog dialog1;
    JDialog dialog2;
    JDialog dialog3;
    JDialog dialog4;


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel Couts;
    private javax.swing.JTextField DateArrivee;
    private javax.swing.JComboBox actesComboBox;
    private javax.swing.JList actesEnregistres;
    private javax.swing.JLabel actesSoin;
    private javax.swing.JLabel adresse;
    private javax.swing.JLabel adresse1;
    private javax.swing.JPanel ajoutDeSoins;
    private javax.swing.JPanel ajoutPatients;
    private javax.swing.JPanel ajoutPatients1;
    private javax.swing.JButton ajouterMedecin;
    private javax.swing.JButton ajouterPatient;
    private javax.swing.JButton ajouterSoin;
    private javax.swing.JTextField anneeDate;
    private javax.swing.JComboBox cbMedecins;
    private javax.swing.JComboBox cbPatients;
    private javax.swing.JTextField champCoeff;
    private javax.swing.JComboBox choixSpe;
    private javax.swing.JTextField coefActe;
    private javax.swing.JButton consulterMedecin;
    private javax.swing.JButton consulterPatient;
    private javax.swing.JButton consulterSoin;
    private javax.swing.JLabel coutActe;
    private javax.swing.JLabel coutMedecin;
    private javax.swing.JLabel coutPatient;
    private javax.swing.JLabel coutSpe;
    private javax.swing.JTextField dateDepart;
    private javax.swing.JLabel dateSoin;
    private javax.swing.JPanel fenetre;
    private javax.swing.JButton ficheSoinPatient;
    private javax.swing.JPanel gh;
    private javax.swing.JTextField infosPatient;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JTextField jourDate;
    private javax.swing.JPanel listeDePatients;
    private javax.swing.JPanel listeDeSoins;
    private javax.swing.JLabel listeDesActes;
    private javax.swing.JComboBox listeMedecins;
    private javax.swing.JScrollPane listePatients;
    private javax.swing.JScrollPane listePatients1;
    private javax.swing.JList listemedecin;
    private javax.swing.JList listepatient;
    private javax.swing.JComboBox listesActesFicheSoin;
    private javax.swing.JList listesoin;
    private javax.swing.JPanel medecin;
    private javax.swing.JLabel medecinSoin;
    private javax.swing.JTabbedPane menu;
    private javax.swing.JButton modifierMedecin;
    private javax.swing.JButton modifierPatient1;
    private javax.swing.JTextField moisDate;
    private javax.swing.JLabel nom;
    private javax.swing.JLabel nom1;
    private javax.swing.JPanel patient;
    private javax.swing.JLabel patientSoin;
    private javax.swing.JLabel prenom;
    private javax.swing.JLabel prenom1;
    private javax.swing.JButton rechercheMedecin;
    private javax.swing.JButton recherchePatient;
    private javax.swing.JComboBox recherchePatientCB;
    private javax.swing.JPanel soin;
    private javax.swing.JPanel speCout;
    private javax.swing.JLabel ss;
    private javax.swing.JLabel ss2;
    private javax.swing.JLabel triSoin;
    private javax.swing.JButton valideCoefActe;
    private javax.swing.JButton validerCoutModif;
    private javax.swing.JTextField wIdentifiantMedecin;
    private javax.swing.JTextField wMDPMedecin;
    private javax.swing.JTextField wSpeMedecin;
    private javax.swing.JTextField wTelMedecin;
    private javax.swing.JTextField wadresse;
    private javax.swing.JTextField wnomMedecin;
    private javax.swing.JTextField wnomPatient;
    private javax.swing.JTextField wprenomMedecin;
    private javax.swing.JTextField wprenomPatient;
    private javax.swing.JTextField wrechercherMedecin;
    private javax.swing.JTextField wrechercherPatient;
    private javax.swing.JTextField wssPatient;
    // End of variables declaration//GEN-END:variables
}
